<h6>Всего на странице: {{ task_list|length|thousands }}</h6>
<div class="d-flex">
    <h6 class="me-4" id="total_count">Выбрано: 0</h6>
    <h6 id="total_dur">Общий хронометраж: 00:00:00</h6>
</div>
<hr width="100%" size="2"><br>
<div id="message_container">
  {% include  'main/messages.html' %}
</div>
<table class="table table-hover">
  <thead>
    <tr>
      <th style="width: 1%;"><input class="form-check-input me-1" type="checkbox" value="" id="full_select" onclick="changeProgramIdCheckbox()"></th>
      <th style="width: 22%;">Название</th>
      <th style="width: 5%;">Clip ID</th>
      <th style="width: 5%;">Директория</th>
      <th style="width: 30%;">Имя файла</th>
      <th style="width: 8%;">Исполнитель</th>
      <th style="width: 5%;">Дата эфира</th>
      <th style="width: 5%;">Время эфира</th>
      <th style="width: 5%;">Длительность</th>
      <th style="width: 10%;">Статус</th>
      <th style="width: 3%;">CENZ</th>
    </tr>
  </thead>
  <tbody class="table-group-divider" id="tableBody">
    {% for task in task_list %}
      <tr>
        <td class="{% if task.is_duplicate %}bg-body-tertiary{% endif %}">
          <input class="form-check-input me-1" type="checkbox"
                 data-program-id="{{ task.Progs_program_id }}" data-file-name="{{ task.Progs_name }}"
                 data-file-path="{% if task.Task_file_path %}{{ task.Task_file_path }}{% else %}{{ task.Files_Name }}{% endif %}"
                 data-worker-id="{{ task.Task_worker_id }}" data-oplan-worker-id="{{ task.Oplan_worker_id }}"
                 data-prod-year="{{ task.Progs_production_year }}" data-duration="{{ task.Progs_duration }}"
                 value="{{ task.Progs_program_id }}"
                 name="program_id_check"{% if task.is_duplicate %}disabled{% endif %}>
        </td>
        <td class="{% if task.is_duplicate %}bg-body-tertiary{% endif %}">
        <a href="{% url 'home' %}{{ task.Progs_program_id }}" class="{% if task.is_duplicate %}text-body-tertiary{% else %}link-body-emphasis{% endif %} link-offset-3-hover link-underline link-underline-opacity-0 link-underline-opacity-75-hover">
        {{ forloop.counter }}. {{ task.Progs_name }}{% if task.Progs_production_year %} ({{ task.Progs_production_year }}){% endif %}
          {% if task.is_duplicate %}<span class="badge bg-secondary text-bg-emphasis ms-2">Повтор</span>{% endif %}</a>
        </td>
        <td class="{% if task.is_duplicate %}text-body-tertiary bg-body-tertiary{% endif %}">
          <input class="form-control form-control-sm" name="ClipID" type="text" value="{% if task.Files_ClipID %}{{ task.Files_ClipID }}{% endif %}" onclick="CopyText(this)"></td>
        <td class="{% if task.is_duplicate %}text-body-tertiary bg-body-tertiary{% endif %}">{{ task.Files_Name|dir_name }}</td>
        <td class="{% if task.is_duplicate %}text-body-tertiary bg-body-tertiary{% endif %}">{{ task.Files_Name|file_name }}</td>
        <td class="{% if task.is_duplicate %}bg-body-tertiary{% endif %}">
          <a href="{% url 'home' %}worker/{% if task.Task_worker_id %}{{ task.Task_worker_id }}{% else %}{{ task.Oplan_worker_id }}{% endif %}"
             class="{% if task.is_duplicate %}text-body-tertiary{% else %}link-body-emphasis{% endif %} link-body-emphasis link-offset-3-hover link-underline link-underline-opacity-0 link-underline-opacity-75-hover">
            {% if task.Task_worker_id %}{{ task.Task_worker_id|planner_worker_name }}{% else %}{{ task.Oplan_worker_id|planner_worker_name }}{% endif %}</a></td>
        <td class="{% if task.is_duplicate %}text-body-tertiary bg-body-tertiary{% endif %}">{{ task.SchedProg_DateTime|date:'d.m.Y' }}</td>
        <td class="{% if task.is_duplicate %}text-body-tertiary bg-body-tertiary{% endif %}">{{ task.SchedProg_DateTime|date:'H:i:s' }}</td>
        <td class="{% if task.is_duplicate %}text-body-tertiary bg-body-tertiary{% endif %}">{{ task.Progs_duration|convert_frames_to_time }}
          <input value="{{ task.Task_duration }}" id="dur_{{ task.Task_program_id }}" class="visually-hidden">
        </td>
        <td class="{% if task.is_duplicate %}text-body-tertiary bg-body-tertiary{% endif %}">{% if task.Task_task_status %}{{ task.Task_task_status|status_name }}{% else %}{{ task.Oplan_status|status_name }}{% endif %}</td>
        <td class="{% if task.is_duplicate %}text-body-tertiary bg-body-tertiary{% endif %}">
          {% if not task.Task_noCENZ %}
            <span title="Замена файла">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-file-check" viewBox="0 0 16 16">
                <path d="M10.854 6.146a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L7.5 8.793l2.646-2.647a.5.5 0 0 1 .708 0z"/>
                <path d="M4 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H4zm0 1h8a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1z"/>
              </svg>
            </span>
          {% endif %}
        </td>
      </tr>
    {% endfor %}
  </tbody>
</table>